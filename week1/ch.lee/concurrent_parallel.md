# Concurrent & Parallel(동시성 & 병렬성)

`Concurrent(동시성)` : 순서 없이 겹치는 기간에 시작, 실행 및 완료되는 여러 작업 관련

→ 한 명의 인간이 여러 개의 일을 처리하고 있음

`Parallel(병렬성)` : 멀티 코어 프로세스에서 동시에 실행되는 동일한 작업

→ 여러 명의 인간이 여러 작업을 동시에 진행하고 있음

---
### Concurrent(동시성)

- `CPU`가 <span style="color:red;">한 번에 많은 일을 처리하는 것에 중점</span>(많은 작업들을 교체하면서 전체 작업을 처리)

   → `CPU`을 효율적으로 사용하는 것에 중점

- 작업에 대한 처리 방식을 어떤 식으로 진행할 것인가에 대한 `설계적 관점`
- 작업양 > CPU 코어 수 → <span style="color:red;">동시성이 없으며 작업을 순차적으로 진행해야 한다.</span>

#### 예제 코드 결과.

```
CPU 개수를 초과하는 데이터를 병렬로 처리하는 데 걸린 시간: 1015ms
결과2 : 1240
```
- 처리해야하는 작업의 양이 실제 CPU 코어보다 많아서 병렬로 처리해도  <span style="color:red;">Thread.Sleep()과정이 2번 발생해서 1015ms</span>가 나오는 것을 확인할 수 있습니다.

---
### Parallel(병렬성)

- <span style="color:red;">동시에 많은 일을 수행하는 것에 중점</span> → `CPU`를 최대한 바쁘게 동작
- `Runtime`에 동시에 물리적으로 작업을 실행하는 것 → 1개의 코어로는 병렬성이 구현 X
- <span style="color:red;">동시성의 하위 개념</span> → 작업을 여러 `Thread`로 분리하고, `OS`는 `Thread`를 여러 `CPU`에 분배하여 동시적으로 실행
- 하드웨어에서 계층에서 작업 수행 방식
- `작업양 ≤ CPU 코어 수` → 가장 효율이 높음
#### 예제 코드 결과.

```
CPU 개수만큼 데이터를 병렬로 처리하는 데 걸린 시간: 510ms
결과1 : 140
```
- 병렬 실행으로써 `510ms`가 나오는 것을 확인할 수 있습니다. 작업의 양 = 코어의 수(현재 8개)

- 만약, `parallelStream() → Stream()`이었다면 순차적으로 처리하여 `4000ms (500 * 8)`이 걸릴 것입니다.
```
CPU 개수를 초과하는 데이터를 병렬로 처리하는 데 걸린 시간: 4032ms
결과1 : 140
```

---

### Concurrent & Parallel Combination
- `ThreadPoolExecutor` : 병렬성으로 처리 성능을 극대화하고, 동시성으로 CPU 자원을 효율적으로 운용한다.



### Parallelism - Divide and Conquer
- `ForkJoinPool` : 하나의 테스크를 서브 테스크로 분할하여 병렬 처리함으로써 전체 작업 성능을 높인다.


