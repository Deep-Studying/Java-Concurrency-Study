# Process & Thread

### Process

- `운영체제`로부터 자원을 할당받은 `최소 작업 단위`
- `프로그램 파일`을 실행함으로써 프로그램 데이터들이 메모리에 올라와` CPU`를 할당받고 명령을 수행하고 있는 상태
- 운영체제는 `프로세스`마다 각각 독립된 메모리 영역을 [Code,Data,Stack,Heap] 형식으로 `할당`해준다.
- 기본적으로 **다른 프로세스**의 **변수**나 **자료**에 접근할 수 없다.
    - **IPC**나 **공유 메모리** 등의 **통신기법**을 사용해서 프로세스 간 통신을 할 수 있다.

### Thread

- `프로세스`가 운영체제로부터 할당 받은 자원을 이용하는 **실행단위** 또는 **흐름의 단위**다.
- 하나의 `프로세스`는 하나 이상의 `스레드`를 갖는다.
- 프로세스 내에서 각 필요한 **Stack**만 할당받고 **Code,Data,Heap** 영역은 각 **스레드**가 `공유`해서 `사용`한다.
- 스레드 간 `메모리 스택 영역`에 접근 할 수 없기 때문에 독립적인 **실행 흐름**을 가질 수 있게 된다.

### Thread & CPU

- `스레드`는 운영체제의 **스케줄러**에 의해 관리되는 **CPU**의 **최소 실행 단위**다.
- `스케줄러`의 알고리즘에 따라 **프로세스**에 속한 한 개의 **스레드**가 선점되어 **CPU**에 할당된다.
- `스레드` 간 선점이 일어날 때 **컨텍스트 스위칭**이 발생한다.

### Process vs Thread

- `Process`
    - 여러 개의 `자식 프로세스` 중 하나에 문제가 발생하면 **다른 프로세스**에 영향을 미치지 않는다.
    - 프로세스 간 `전환`시 레지스터, 캐시 메모리 초기화 등 **비용이 많이 발생**한다.
    - 프로세스 간 `통신 기법`이 어렵고 복잡해서 **통신 오버헤드**가 크다.
    - `프로세스 생성` 시 독립적으로 **메모리**가 **할당**되어 **리소스 비용**이 크다.

- `Thread`
    - `여러 개`의 스레드 중 `하나`라도 문제가 발생하면 **전체 프로세스에 영향**을 미친다.
    - `프로세스`의 **메모리 영역**을 **공유**하기 때문에 `컨텍스트 스위칭 비용`이 적고, **리소스**를 **효율적으로 사용**할 수 있다.
    - **스레드** 간 통신 비용이 적어 **통신 오버헤드**가 적다.
    - **스레드** 간 공유 메모리 영역의 동시 접근으로 인해 **동기화 문제가 발생**한다.
    - 하나의 **스레드**에서 오류가 발생하더라도 `프로세스 자체`가 **종료**될 수 있다.
