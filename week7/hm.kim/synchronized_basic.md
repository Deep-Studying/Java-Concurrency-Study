### synchronized 기본

개요


---

- 단일 연산 특성을 보장하기 위해 synchronized 키워드 제공, 이를 통해 모니터 영역 동기화 가능
- 명시적 락을 구현하는 것이 아닌, 자바에 내장된 락으로 이를 암묵적락 또는 모니터락 이라고 한다.
- 동일한 모니터를 가진 객체에 대해 오직 하나의 쓰레드만 임계영역에 접근할 수 있도록 보장한다.
- 락은 쓰레드가 synchronized 블록에 들어가기 전 확보되며 블록을 벗어날 때 자동으로 해제된다.

---

### synchronized 동기화 방식

---

- **메서드 동기화 방식 - synchronized method**
    - 인스턴스 메서드 동기화와 정적 메서드 동기화 방식이 있다.
    - 메소드 전체가 임계영역, 즉 메소드 내의 모든 코드가 동기화 된다.
    - 메서드 전체를 동기화하기에 동기화영역이 클수록 성능저하를 가져온다.
    - 동시성 문제를 편리하게 제어하지만 메서드 내 코드의 세부적 동기화 구조를 가지기 어렵다.
- **블록 동기화 방식 - synchronized block**
    - 인스턴스 블록 동기화와 정적 블록 동기화 방식이 있다.
    - 동기화 영역이 작고 효율적 구성이 가능해 성능 저하가 덜하다.
    - 좀 더 세부적으로 임계영역을 정해 필요한 블록만 동기화 구조를 가진다.
    - 특정 블록을 정해 임계영역을 구성한다. 즉 블록 내의 코드만 초기화된다.

**`쓰레드 간 객체의 메서드를 동기화하기 위해서는 쓰레드는 같은 객체의 모니터를 참조해야 한다.`**